{"remainingRequest":"E:\\Downloads\\wiki-dev\\node_modules\\babel-loader\\lib\\index.js??ref--0-1!E:\\Downloads\\wiki-dev\\node_modules\\vuetify\\lib\\components\\VCalendar\\mixins\\calendar-with-events.js","dependencies":[{"path":"E:\\Downloads\\wiki-dev\\node_modules\\vuetify\\lib\\components\\VCalendar\\mixins\\calendar-with-events.js","mtime":1618998884305},{"path":"E:\\Downloads\\wiki-dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618998867176},{"path":"E:\\Downloads\\wiki-dev\\node_modules\\babel-loader\\lib\\index.js","mtime":1617693652020}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8vIFN0eWxlcwppbXBvcnQgIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1ZDYWxlbmRhci9taXhpbnMvY2FsZW5kYXItd2l0aC1ldmVudHMuc2FzcyI7IC8vIERpcmVjdGl2ZXMKCmltcG9ydCByaXBwbGUgZnJvbSAnLi4vLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUnOyAvLyBNaXhpbnMKCmltcG9ydCBDYWxlbmRhckJhc2UgZnJvbSAnLi9jYWxlbmRhci1iYXNlJzsgLy8gSGVscGVycwoKaW1wb3J0IHsgZXNjYXBlSFRNTCB9IGZyb20gJy4uLy4uLy4uL3V0aWwvaGVscGVycyc7IC8vIFV0aWwKCmltcG9ydCBwcm9wcyBmcm9tICcuLi91dGlsL3Byb3BzJzsKaW1wb3J0IHsgQ2FsZW5kYXJFdmVudE92ZXJsYXBNb2RlcyB9IGZyb20gJy4uL21vZGVzJzsKaW1wb3J0IHsgZ2V0RGF5SWRlbnRpZmllciwgZGlmZk1pbnV0ZXMgfSBmcm9tICcuLi91dGlsL3RpbWVzdGFtcCc7CmltcG9ydCB7IHBhcnNlRXZlbnQsIGlzRXZlbnRTdGFydCwgaXNFdmVudE9uLCBpc0V2ZW50T3ZlcmxhcHBpbmcgfSBmcm9tICcuLi91dGlsL2V2ZW50cyc7CmNvbnN0IFdJRFRIX0ZVTEwgPSAxMDA7CmNvbnN0IFdJRFRIX1NUQVJUID0gOTU7CmNvbnN0IE1JTlVURVNfSU5fREFZID0gMTQ0MDsKLyogQHZ1ZS9jb21wb25lbnQgKi8KCmV4cG9ydCBkZWZhdWx0IENhbGVuZGFyQmFzZS5leHRlbmQoewogIG5hbWU6ICdjYWxlbmRhci13aXRoLWV2ZW50cycsCiAgZGlyZWN0aXZlczogewogICAgcmlwcGxlCiAgfSwKICBwcm9wczogcHJvcHMuZXZlbnRzLAogIGNvbXB1dGVkOiB7CiAgICBub0V2ZW50cygpIHsKICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aCA9PT0gMDsKICAgIH0sCgogICAgcGFyc2VkRXZlbnRzKCkgewogICAgICByZXR1cm4gdGhpcy5ldmVudHMubWFwKHRoaXMucGFyc2VFdmVudCk7CiAgICB9LAoKICAgIHBhcnNlZEV2ZW50T3ZlcmxhcFRocmVzaG9sZCgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZXZlbnRPdmVybGFwVGhyZXNob2xkKTsKICAgIH0sCgogICAgZXZlbnRDb2xvckZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRDb2xvciA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRDb2xvciA6ICgpID0+IHRoaXMuZXZlbnRDb2xvcjsKICAgIH0sCgogICAgZXZlbnRUaW1lZEZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRUaW1lZCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRUaW1lZCA6IGV2ZW50ID0+ICEhZXZlbnRbdGhpcy5ldmVudFRpbWVkXTsKICAgIH0sCgogICAgZXZlbnRDYXRlZ29yeUZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRDYXRlZ29yeSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRDYXRlZ29yeSA6IGV2ZW50ID0+IGV2ZW50W3RoaXMuZXZlbnRDYXRlZ29yeV07CiAgICB9LAoKICAgIGV2ZW50VGV4dENvbG9yRnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudFRleHRDb2xvciA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRUZXh0Q29sb3IgOiAoKSA9PiB0aGlzLmV2ZW50VGV4dENvbG9yOwogICAgfSwKCiAgICBldmVudE5hbWVGdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmV2ZW50TmFtZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnROYW1lIDogKGV2ZW50LCB0aW1lZEV2ZW50KSA9PiBlc2NhcGVIVE1MKGV2ZW50LmlucHV0W3RoaXMuZXZlbnROYW1lXSk7CiAgICB9LAoKICAgIGV2ZW50TW9kZUZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRPdmVybGFwTW9kZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRPdmVybGFwTW9kZSA6IENhbGVuZGFyRXZlbnRPdmVybGFwTW9kZXNbdGhpcy5ldmVudE92ZXJsYXBNb2RlXTsKICAgIH0sCgogICAgZXZlbnRXZWVrZGF5cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyc2VkV2Vla2RheXM7CiAgICB9LAoKICAgIGNhdGVnb3J5TW9kZSgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhcnNlRXZlbnQoaW5wdXQsIGluZGV4ID0gMCkgewogICAgICByZXR1cm4gcGFyc2VFdmVudChpbnB1dCwgaW5kZXgsIHRoaXMuZXZlbnRTdGFydCwgdGhpcy5ldmVudEVuZCwgdGhpcy5ldmVudFRpbWVkRnVuY3Rpb24oaW5wdXQpLCB0aGlzLmNhdGVnb3J5TW9kZSA/IHRoaXMuZXZlbnRDYXRlZ29yeUZ1bmN0aW9uKGlucHV0KSA6IGZhbHNlKTsKICAgIH0sCgogICAgZm9ybWF0VGltZSh3aXRoVGltZSwgYW1wbSkgewogICAgICBjb25zdCBmb3JtYXR0ZXIgPSB0aGlzLmdldEZvcm1hdHRlcih7CiAgICAgICAgdGltZVpvbmU6ICdVVEMnLAogICAgICAgIGhvdXI6ICdudW1lcmljJywKICAgICAgICBtaW51dGU6IHdpdGhUaW1lLm1pbnV0ZSA+IDAgPyAnbnVtZXJpYycgOiB1bmRlZmluZWQKICAgICAgfSk7CiAgICAgIHJldHVybiBmb3JtYXR0ZXIod2l0aFRpbWUsIHRydWUpOwogICAgfSwKCiAgICB1cGRhdGVFdmVudFZpc2liaWxpdHkoKSB7CiAgICAgIGlmICh0aGlzLm5vRXZlbnRzIHx8ICF0aGlzLmV2ZW50TW9yZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgZXZlbnRIZWlnaHQgPSB0aGlzLmV2ZW50SGVpZ2h0OwogICAgICBjb25zdCBldmVudHNNYXAgPSB0aGlzLmdldEV2ZW50c01hcCgpOwoKICAgICAgZm9yIChjb25zdCBkYXRlIGluIGV2ZW50c01hcCkgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIHBhcmVudCwKICAgICAgICAgIGV2ZW50cywKICAgICAgICAgIG1vcmUKICAgICAgICB9ID0gZXZlbnRzTWFwW2RhdGVdOwoKICAgICAgICBpZiAoIW1vcmUpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcGFyZW50Qm91bmRzID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIGNvbnN0IGxhc3QgPSBldmVudHMubGVuZ3RoIC0gMTsKICAgICAgICBsZXQgaGlkZSA9IGZhbHNlOwogICAgICAgIGxldCBoaWRkZW4gPSAwOwoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsYXN0OyBpKyspIHsKICAgICAgICAgIGlmICghaGlkZSkgewogICAgICAgICAgICBjb25zdCBldmVudEJvdW5kcyA9IGV2ZW50c1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgaGlkZSA9IGkgPT09IGxhc3QgPyBldmVudEJvdW5kcy5ib3R0b20gPiBwYXJlbnRCb3VuZHMuYm90dG9tIDogZXZlbnRCb3VuZHMuYm90dG9tICsgZXZlbnRIZWlnaHQgPiBwYXJlbnRCb3VuZHMuYm90dG9tOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgICAgIGV2ZW50c1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBoaWRkZW4rKzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgICBtb3JlLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgIG1vcmUuaW5uZXJIVE1MID0gdGhpcy4kdnVldGlmeS5sYW5nLnQodGhpcy5ldmVudE1vcmVUZXh0LCBoaWRkZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtb3JlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGdldEV2ZW50c01hcCgpIHsKICAgICAgY29uc3QgZXZlbnRzTWFwID0ge307CiAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy4kcmVmcy5ldmVudHM7CgogICAgICBpZiAoIWVsZW1lbnRzIHx8ICFlbGVtZW50cy5mb3JFYWNoKSB7CiAgICAgICAgcmV0dXJuIGV2ZW50c01hcDsKICAgICAgfQoKICAgICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgY29uc3QgZGF0ZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kYXRlJyk7CgogICAgICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ICYmIGRhdGUpIHsKICAgICAgICAgIGlmICghKGRhdGUgaW4gZXZlbnRzTWFwKSkgewogICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0gPSB7CiAgICAgICAgICAgICAgcGFyZW50OiBlbC5wYXJlbnRFbGVtZW50LAogICAgICAgICAgICAgIG1vcmU6IG51bGwsCiAgICAgICAgICAgICAgZXZlbnRzOiBbXQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9yZScpKSB7CiAgICAgICAgICAgIGV2ZW50c01hcFtkYXRlXS5tb3JlID0gZWw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0uZXZlbnRzLnB1c2goZWwpOwogICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGV2ZW50c01hcDsKICAgIH0sCgogICAgZ2VuRGF5RXZlbnQoewogICAgICBldmVudAogICAgfSwgZGF5KSB7CiAgICAgIGNvbnN0IGV2ZW50SGVpZ2h0ID0gdGhpcy5ldmVudEhlaWdodDsKICAgICAgY29uc3QgZXZlbnRNYXJnaW5Cb3R0b20gPSB0aGlzLmV2ZW50TWFyZ2luQm90dG9tOwogICAgICBjb25zdCBkYXlJZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICBjb25zdCB3ZWVrID0gZGF5LndlZWs7CiAgICAgIGNvbnN0IHN0YXJ0ID0gZGF5SWRlbnRpZmllciA9PT0gZXZlbnQuc3RhcnRJZGVudGlmaWVyOwogICAgICBsZXQgZW5kID0gZGF5SWRlbnRpZmllciA9PT0gZXZlbnQuZW5kSWRlbnRpZmllcjsKICAgICAgbGV0IHdpZHRoID0gV0lEVEhfU1RBUlQ7CgogICAgICBpZiAoIXRoaXMuY2F0ZWdvcnlNb2RlKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IGRheS5pbmRleCArIDE7IGkgPCB3ZWVrLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCB3ZWVrZGF5SWRlbnRpZmllciA9IGdldERheUlkZW50aWZpZXIod2Vla1tpXSk7CgogICAgICAgICAgaWYgKGV2ZW50LmVuZElkZW50aWZpZXIgPj0gd2Vla2RheUlkZW50aWZpZXIpIHsKICAgICAgICAgICAgd2lkdGggKz0gV0lEVEhfRlVMTDsKICAgICAgICAgICAgZW5kID0gZW5kIHx8IHdlZWtkYXlJZGVudGlmaWVyID09PSBldmVudC5lbmRJZGVudGlmaWVyOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZW5kID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBzY29wZSA9IHsKICAgICAgICBldmVudFBhcnNlZDogZXZlbnQsCiAgICAgICAgZGF5LAogICAgICAgIHN0YXJ0LAogICAgICAgIGVuZCwKICAgICAgICB0aW1lZDogZmFsc2UKICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMuZ2VuRXZlbnQoZXZlbnQsIHNjb3BlLCBmYWxzZSwgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1ldmVudCcsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICd2LWV2ZW50LXN0YXJ0Jzogc3RhcnQsCiAgICAgICAgICAndi1ldmVudC1lbmQnOiBlbmQKICAgICAgICB9LAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBoZWlnaHQ6ICIiLmNvbmNhdChldmVudEhlaWdodCwgInB4IiksCiAgICAgICAgICB3aWR0aDogIiIuY29uY2F0KHdpZHRoLCAiJSIpLAogICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAiIi5jb25jYXQoZXZlbnRNYXJnaW5Cb3R0b20sICJweCIpCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgJ2RhdGEtZGF0ZSc6IGRheS5kYXRlCiAgICAgICAgfSwKICAgICAgICBrZXk6IGV2ZW50LmluZGV4LAogICAgICAgIHJlZjogJ2V2ZW50cycsCiAgICAgICAgcmVmSW5Gb3I6IHRydWUKICAgICAgfSk7CiAgICB9LAoKICAgIGdlblRpbWVkRXZlbnQoewogICAgICBldmVudCwKICAgICAgbGVmdCwKICAgICAgd2lkdGgKICAgIH0sIGRheSkgewogICAgICBpZiAoZGF5LnRpbWVEZWx0YShldmVudC5lbmQpIDw9IDAgfHwgZGF5LnRpbWVEZWx0YShldmVudC5zdGFydCkgPj0gMSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgZGF5SWRlbnRpZmllciA9IGdldERheUlkZW50aWZpZXIoZGF5KTsKICAgICAgY29uc3Qgc3RhcnQgPSBldmVudC5zdGFydElkZW50aWZpZXIgPj0gZGF5SWRlbnRpZmllcjsKICAgICAgY29uc3QgZW5kID0gZXZlbnQuZW5kSWRlbnRpZmllciA+IGRheUlkZW50aWZpZXI7CiAgICAgIGNvbnN0IHRvcCA9IHN0YXJ0ID8gZGF5LnRpbWVUb1koZXZlbnQuc3RhcnQpIDogMDsKICAgICAgY29uc3QgYm90dG9tID0gZW5kID8gZGF5LnRpbWVUb1koTUlOVVRFU19JTl9EQVkpIDogZGF5LnRpbWVUb1koZXZlbnQuZW5kKTsKICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5ldmVudEhlaWdodCwgYm90dG9tIC0gdG9wKTsKICAgICAgY29uc3Qgc2NvcGUgPSB7CiAgICAgICAgZXZlbnRQYXJzZWQ6IGV2ZW50LAogICAgICAgIGRheSwKICAgICAgICBzdGFydCwKICAgICAgICBlbmQsCiAgICAgICAgdGltZWQ6IHRydWUKICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMuZ2VuRXZlbnQoZXZlbnQsIHNjb3BlLCB0cnVlLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWV2ZW50LXRpbWVkJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgdG9wOiAiIi5jb25jYXQodG9wLCAicHgiKSwKICAgICAgICAgIGhlaWdodDogIiIuY29uY2F0KGhlaWdodCwgInB4IiksCiAgICAgICAgICBsZWZ0OiAiIi5jb25jYXQobGVmdCwgIiUiKSwKICAgICAgICAgIHdpZHRoOiAiIi5jb25jYXQod2lkdGgsICIlIikKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZW5FdmVudChldmVudCwgc2NvcGVJbnB1dCwgdGltZWRFdmVudCwgZGF0YSkgewogICAgICB2YXIgX3RoaXMkZXZlbnRSaXBwbGU7CgogICAgICBjb25zdCBzbG90ID0gdGhpcy4kc2NvcGVkU2xvdHMuZXZlbnQ7CiAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmV2ZW50VGV4dENvbG9yRnVuY3Rpb24oZXZlbnQuaW5wdXQpOwogICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5ldmVudENvbG9yRnVuY3Rpb24oZXZlbnQuaW5wdXQpOwogICAgICBjb25zdCBvdmVybGFwc05vb24gPSBldmVudC5zdGFydC5ob3VyIDwgMTIgJiYgZXZlbnQuZW5kLmhvdXIgPj0gMTI7CiAgICAgIGNvbnN0IHNpbmdsaW5lID0gZGlmZk1pbnV0ZXMoZXZlbnQuc3RhcnQsIGV2ZW50LmVuZCkgPD0gdGhpcy5wYXJzZWRFdmVudE92ZXJsYXBUaHJlc2hvbGQ7CiAgICAgIGNvbnN0IGZvcm1hdFRpbWUgPSB0aGlzLmZvcm1hdFRpbWU7CgogICAgICBjb25zdCB0aW1lU3VtbWFyeSA9ICgpID0+IGZvcm1hdFRpbWUoZXZlbnQuc3RhcnQsIG92ZXJsYXBzTm9vbikgKyAnIC0gJyArIGZvcm1hdFRpbWUoZXZlbnQuZW5kLCB0cnVlKTsKCiAgICAgIGNvbnN0IGV2ZW50U3VtbWFyeSA9ICgpID0+IHsKICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5ldmVudE5hbWVGdW5jdGlvbihldmVudCwgdGltZWRFdmVudCk7CgogICAgICAgIGlmIChldmVudC5zdGFydC5oYXNUaW1lKSB7CiAgICAgICAgICBpZiAodGltZWRFdmVudCkgewogICAgICAgICAgICBjb25zdCB0aW1lID0gdGltZVN1bW1hcnkoKTsKICAgICAgICAgICAgY29uc3QgZGVsaW1pdGVyID0gc2luZ2xpbmUgPyAnLCAnIDogJzxicj4nOwogICAgICAgICAgICByZXR1cm4gIjxzdHJvbmc+Ii5jb25jYXQobmFtZSwgIjwvc3Ryb25nPiIpLmNvbmNhdChkZWxpbWl0ZXIpLmNvbmNhdCh0aW1lKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBmb3JtYXRUaW1lKGV2ZW50LnN0YXJ0LCB0cnVlKTsKICAgICAgICAgICAgcmV0dXJuICI8c3Ryb25nPiIuY29uY2F0KHRpbWUsICI8L3N0cm9uZz4gIikuY29uY2F0KG5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICAgIH07CgogICAgICBjb25zdCBzY29wZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2NvcGVJbnB1dCksIHt9LCB7CiAgICAgICAgZXZlbnQ6IGV2ZW50LmlucHV0LAogICAgICAgIG91dHNpZGU6IHNjb3BlSW5wdXQuZGF5Lm91dHNpZGUsCiAgICAgICAgc2luZ2xpbmUsCiAgICAgICAgb3ZlcmxhcHNOb29uLAogICAgICAgIGZvcm1hdFRpbWUsCiAgICAgICAgdGltZVN1bW1hcnksCiAgICAgICAgZXZlbnRTdW1tYXJ5CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0VGV4dENvbG9yKHRleHQsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKGJhY2tncm91bmQsIF9vYmplY3RTcHJlYWQoewogICAgICAgIG9uOiB0aGlzLmdldERlZmF1bHRNb3VzZUV2ZW50SGFuZGxlcnMoJzpldmVudCcsIG5hdGl2ZUV2ZW50ID0+IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2NvcGUpLCB7fSwgewogICAgICAgICAgbmF0aXZlRXZlbnQKICAgICAgICB9KSksCiAgICAgICAgZGlyZWN0aXZlczogW3sKICAgICAgICAgIG5hbWU6ICdyaXBwbGUnLAogICAgICAgICAgdmFsdWU6IChfdGhpcyRldmVudFJpcHBsZSA9IHRoaXMuZXZlbnRSaXBwbGUpICE9IG51bGwgPyBfdGhpcyRldmVudFJpcHBsZSA6IHRydWUKICAgICAgICB9XQogICAgICB9LCBkYXRhKSkpLCBzbG90ID8gc2xvdChzY29wZSkgOiBbdGhpcy5nZW5OYW1lKGV2ZW50U3VtbWFyeSldKTsKICAgIH0sCgogICAgZ2VuTmFtZShldmVudFN1bW1hcnkpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3BsLTEnLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICBpbm5lckhUTUw6IGV2ZW50U3VtbWFyeSgpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgZ2VuUGxhY2Vob2xkZXIoZGF5KSB7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZXZlbnRIZWlnaHQgKyB0aGlzLmV2ZW50TWFyZ2luQm90dG9tOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBoZWlnaHQ6ICIiLmNvbmNhdChoZWlnaHQsICJweCIpCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgJ2RhdGEtZGF0ZSc6IGRheS5kYXRlCiAgICAgICAgfSwKICAgICAgICByZWY6ICdldmVudHMnLAogICAgICAgIHJlZkluRm9yOiB0cnVlCiAgICAgIH0pOwogICAgfSwKCiAgICBnZW5Nb3JlKGRheSkgewogICAgICB2YXIgX3RoaXMkZXZlbnRSaXBwbGUyOwoKICAgICAgY29uc3QgZXZlbnRIZWlnaHQgPSB0aGlzLmV2ZW50SGVpZ2h0OwogICAgICBjb25zdCBldmVudE1hcmdpbkJvdHRvbSA9IHRoaXMuZXZlbnRNYXJnaW5Cb3R0b207CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWV2ZW50LW1vcmUgcGwtMScsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICd2LW91dHNpZGUnOiBkYXkub3V0c2lkZQogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdkYXRhLWRhdGUnOiBkYXkuZGF0ZSwKICAgICAgICAgICdkYXRhLW1vcmUnOiAxCiAgICAgICAgfSwKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ3JpcHBsZScsCiAgICAgICAgICB2YWx1ZTogKF90aGlzJGV2ZW50UmlwcGxlMiA9IHRoaXMuZXZlbnRSaXBwbGUpICE9IG51bGwgPyBfdGhpcyRldmVudFJpcHBsZTIgOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLiRlbWl0KCdjbGljazptb3JlJywgZGF5KQogICAgICAgIH0sCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGRpc3BsYXk6ICdub25lJywKICAgICAgICAgIGhlaWdodDogIiIuY29uY2F0KGV2ZW50SGVpZ2h0LCAicHgiKSwKICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogIiIuY29uY2F0KGV2ZW50TWFyZ2luQm90dG9tLCAicHgiKQogICAgICAgIH0sCiAgICAgICAgcmVmOiAnZXZlbnRzJywKICAgICAgICByZWZJbkZvcjogdHJ1ZQogICAgICB9KTsKICAgIH0sCgogICAgZ2V0VmlzaWJsZUV2ZW50cygpIHsKICAgICAgY29uc3Qgc3RhcnQgPSBnZXREYXlJZGVudGlmaWVyKHRoaXMuZGF5c1swXSk7CiAgICAgIGNvbnN0IGVuZCA9IGdldERheUlkZW50aWZpZXIodGhpcy5kYXlzW3RoaXMuZGF5cy5sZW5ndGggLSAxXSk7CiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEV2ZW50cy5maWx0ZXIoZXZlbnQgPT4gaXNFdmVudE92ZXJsYXBwaW5nKGV2ZW50LCBzdGFydCwgZW5kKSk7CiAgICB9LAoKICAgIGlzRXZlbnRGb3JDYXRlZ29yeShldmVudCwgY2F0ZWdvcnkpIHsKICAgICAgcmV0dXJuICF0aGlzLmNhdGVnb3J5TW9kZSB8fCBjYXRlZ29yeSA9PT0gZXZlbnQuY2F0ZWdvcnkgfHwgdHlwZW9mIGV2ZW50LmNhdGVnb3J5ICE9PSAnc3RyaW5nJyAmJiBjYXRlZ29yeSA9PT0gbnVsbDsKICAgIH0sCgogICAgZ2V0RXZlbnRzRm9yRGF5KGRheSkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICBjb25zdCBmaXJzdFdlZWtkYXkgPSB0aGlzLmV2ZW50V2Vla2RheXNbMF07CiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEV2ZW50cy5maWx0ZXIoZXZlbnQgPT4gaXNFdmVudFN0YXJ0KGV2ZW50LCBkYXksIGlkZW50aWZpZXIsIGZpcnN0V2Vla2RheSkpOwogICAgfSwKCiAgICBnZXRFdmVudHNGb3JEYXlBbGwoZGF5KSB7CiAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXREYXlJZGVudGlmaWVyKGRheSk7CiAgICAgIGNvbnN0IGZpcnN0V2Vla2RheSA9IHRoaXMuZXZlbnRXZWVrZGF5c1swXTsKICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRXZlbnRzLmZpbHRlcihldmVudCA9PiBldmVudC5hbGxEYXkgJiYgKHRoaXMuY2F0ZWdvcnlNb2RlID8gaXNFdmVudE9uKGV2ZW50LCBpZGVudGlmaWVyKSA6IGlzRXZlbnRTdGFydChldmVudCwgZGF5LCBpZGVudGlmaWVyLCBmaXJzdFdlZWtkYXkpKSAmJiB0aGlzLmlzRXZlbnRGb3JDYXRlZ29yeShldmVudCwgZGF5LmNhdGVnb3J5KSk7CiAgICB9LAoKICAgIGdldEV2ZW50c0ZvckRheVRpbWVkKGRheSkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGV2ZW50ID0+ICFldmVudC5hbGxEYXkgJiYgaXNFdmVudE9uKGV2ZW50LCBpZGVudGlmaWVyKSAmJiB0aGlzLmlzRXZlbnRGb3JDYXRlZ29yeShldmVudCwgZGF5LmNhdGVnb3J5KSk7CiAgICB9LAoKICAgIGdldFNjb3BlZFNsb3RzKCkgewogICAgICBpZiAodGhpcy5ub0V2ZW50cykgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRzY29wZWRTbG90cyk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLmV2ZW50TW9kZUZ1bmN0aW9uKHRoaXMucGFyc2VkRXZlbnRzLCB0aGlzLmV2ZW50V2Vla2RheXNbMF0sIHRoaXMucGFyc2VkRXZlbnRPdmVybGFwVGhyZXNob2xkKTsKCiAgICAgIGNvbnN0IGlzTm9kZSA9IGlucHV0ID0+ICEhaW5wdXQ7CgogICAgICBjb25zdCBnZXRTbG90Q2hpbGRyZW4gPSAoZGF5LCBnZXR0ZXIsIG1hcHBlciwgdGltZWQpID0+IHsKICAgICAgICBjb25zdCBldmVudHMgPSBnZXR0ZXIoZGF5KTsKICAgICAgICBjb25zdCB2aXN1YWxzID0gbW9kZShkYXksIGV2ZW50cywgdGltZWQsIHRoaXMuY2F0ZWdvcnlNb2RlKTsKCiAgICAgICAgaWYgKHRpbWVkKSB7CiAgICAgICAgICByZXR1cm4gdmlzdWFscy5tYXAodmlzdWFsID0+IG1hcHBlcih2aXN1YWwsIGRheSkpLmZpbHRlcihpc05vZGUpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTsKICAgICAgICB2aXN1YWxzLmZvckVhY2goKHZpc3VhbCwgaW5kZXgpID0+IHsKICAgICAgICAgIHdoaWxlIChjaGlsZHJlbi5sZW5ndGggPCB2aXN1YWwuY29sdW1uKSB7CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5nZW5QbGFjZWhvbGRlcihkYXkpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBtYXBwZWQgPSBtYXBwZXIodmlzdWFsLCBkYXkpOwoKICAgICAgICAgIGlmIChtYXBwZWQpIHsKICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChtYXBwZWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgICAgfTsKCiAgICAgIGNvbnN0IHNsb3RzID0gdGhpcy4kc2NvcGVkU2xvdHM7CiAgICAgIGNvbnN0IHNsb3REYXkgPSBzbG90cy5kYXk7CiAgICAgIGNvbnN0IHNsb3REYXlIZWFkZXIgPSBzbG90c1snZGF5LWhlYWRlciddOwogICAgICBjb25zdCBzbG90RGF5Qm9keSA9IHNsb3RzWydkYXktYm9keSddOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzbG90cyksIHt9LCB7CiAgICAgICAgZGF5OiBfZGF5ID0+IHsKICAgICAgICAgIGxldCBjaGlsZHJlbiA9IGdldFNsb3RDaGlsZHJlbihfZGF5LCB0aGlzLmdldEV2ZW50c0ZvckRheSwgdGhpcy5nZW5EYXlFdmVudCwgZmFsc2UpOwoKICAgICAgICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPiAwICYmIHRoaXMuZXZlbnRNb3JlKSB7CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5nZW5Nb3JlKF9kYXkpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2xvdERheSkgewogICAgICAgICAgICBjb25zdCBzbG90ID0gc2xvdERheShfZGF5KTsKCiAgICAgICAgICAgIGlmIChzbG90KSB7CiAgICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbiA/IGNoaWxkcmVuLmNvbmNhdChzbG90KSA6IHNsb3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY2hpbGRyZW47CiAgICAgICAgfSwKICAgICAgICAnZGF5LWhlYWRlcic6IGRheSA9PiB7CiAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBnZXRTbG90Q2hpbGRyZW4oZGF5LCB0aGlzLmdldEV2ZW50c0ZvckRheUFsbCwgdGhpcy5nZW5EYXlFdmVudCwgZmFsc2UpOwoKICAgICAgICAgIGlmIChzbG90RGF5SGVhZGVyKSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90RGF5SGVhZGVyKGRheSk7CgogICAgICAgICAgICBpZiAoc2xvdCkgewogICAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4gPyBjaGlsZHJlbi5jb25jYXQoc2xvdCkgOiBzbG90OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGNoaWxkcmVuOwogICAgICAgIH0sCiAgICAgICAgJ2RheS1ib2R5JzogZGF5ID0+IHsKICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IGdldFNsb3RDaGlsZHJlbihkYXksIHRoaXMuZ2V0RXZlbnRzRm9yRGF5VGltZWQsIHRoaXMuZ2VuVGltZWRFdmVudCwgdHJ1ZSk7CiAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQtY29udGFpbmVyJwogICAgICAgICAgfSwgZXZlbnRzKV07CgogICAgICAgICAgaWYgKHNsb3REYXlCb2R5KSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90RGF5Qm9keShkYXkpOwoKICAgICAgICAgICAgaWYgKHNsb3QpIHsKICAgICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChzbG90KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn0pOw=="},null]}